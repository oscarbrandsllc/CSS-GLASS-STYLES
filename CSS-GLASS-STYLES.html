<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Glass Lab — 15 Styles · transparent panels · paste‑ready CSS</title>
<style>
  :root{--ink:#e9ebff;--muted:#a6add4}
  html,body{height:100%}
  body{
    margin:0;color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    background: radial-gradient(ellipse at 50% 50%, #1B2735 0%, #090A0F 100%);
    position:relative;
  }
  /* starfield */
  .stars,.stars:after,.stars2,.stars2:after,.stars3,.stars3:after{position:fixed;left:0;top:0;width:1px;height:1px;background:transparent;pointer-events:none}
  .stars{box-shadow: var(--shadows-small); animation: animStar 50s linear infinite;}
  .stars:after{content:""; top:2000px; box-shadow: var(--shadows-small);}
  .stars2{width:2px;height:2px; box-shadow: var(--shadows-medium); animation: animStar 100s linear infinite;}
  .stars2:after{content:""; top:2000px; box-shadow: var(--shadows-medium);}
  .stars3{width:3px;height:3px; box-shadow: var(--shadows-big); animation: animStar 150s linear infinite;}
  .stars3:after{content:""; top:2000px; box-shadow: var(--shadows-big);}
  @keyframes animStar{from{transform:translateY(0)}to{transform:translateY(-2000px)}}

  header{
    position: sticky; top:0; z-index:5;
    background: linear-gradient(180deg, rgba(10,11,22,.86), rgba(10,11,22,.55) 60%, rgba(10,11,22,0));
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    backdrop-filter: blur(10px) saturate(120%);
    border-bottom: 1px solid rgba(255,255,255,.08);
  }
  .wrap{max-width:1280px;margin:0 auto;padding:12px 16px}
  h1{font-size:16px;letter-spacing:.3px;margin:0}
  .grid{max-width:1280px;margin:24px auto 64px;padding:0 16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:16px}

  /* ── PANEL / CONTAINER — transparent, no blur here ── */
  .card{
        position:relative;border-radius:10px;overflow:hidden;
        background: rgba(13,14,35,0.01);                 /* nearly see-through */
        border: 1px solid rgba(255,255,255,.06);
        /* no backdrop-filter here — it interferes with previews' blur slider */
        box-shadow: 0 6px 18px rgba(0,0,0,.12);
  }
  .card .bar{display:flex;align-items:center;gap:6px;padding:8px 10px;
             background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));
             font-weight:700;font-size:12px}
  .card .sub{padding:0 10px 6px;color:var(--muted);font-size:10px}

  /* Preview area (the actual “glass” demo) */
  .preview{min-height:240px;border-top:1px dashed rgba(255,255,255,.12);border-bottom:1px dashed rgba(255,255,255,.12);
           margin:8px 10px;border-radius:10px;position:relative;overflow:hidden}

  /* Slider panel */
  .controls{background:transparent}
  .ctl{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:center;padding:4px 10px}
  .ctl label{font-size:10px;color:var(--muted)}
  .ctl input[type=range]{width:100%;height:14px}
  .ctl input[type=range]::-webkit-slider-runnable-track{height:4px}
  .ctl input[type=range]::-moz-range-track{height:4px}
  .ctl input[type=range]::-webkit-slider-thumb{width:12px;height:12px}
  .ctl input[type=range]::-moz-range-thumb{width:12px;height:12px}

  pre.code{margin:8px 10px 10px;padding:8px;background:rgba(0,0,0,.16);
           border-radius:10px;border:1px solid rgba(255,255,255,.08);font-size:10px;color:#f4f5ff;overflow:auto;max-height:250px;white-space:pre-wrap}
  .btns{display:flex;gap:8px;margin:0 10px 12px}
  button.btn{padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#fff;cursor:pointer}

  .err{padding:10px 12px;color:#ffb4b4}
</style>
</head>
<body>
<div class="stars"></div><div class="stars2"></div><div class="stars3"></div>
<header><div class="wrap"><h1>Glass Lab — 15 Styles · transparent panels · paste‑ready CSS</h1></div></header>
<main class="grid" id="grid"></main>

<script>
// starfield scatters
function randomShadows(n){const a=[];for(let i=0;i<n;i++){a.push(Math.floor(Math.random()*2000)+'px '+Math.floor(Math.random()*2000)+'px #FFF')}return a.join(', ')}
document.documentElement.style.setProperty('--shadows-small', randomShadows(700));
document.documentElement.style.setProperty('--shadows-medium', randomShadows(200));
document.documentElement.style.setProperty('--shadows-big', randomShadows(100));

// helpers
const $ = (s,root=document)=>root.querySelector(s);
const el = (t,c)=>{const e=document.createElement(t); if(c) e.className=c; return e;};
function emit(out,line){ out.push(line); }
function block(lines){ return lines.join('\n'); }
function setBlurSat(node, blurPx, satPct, more=''){
  const bf = `blur(${blurPx}px) saturate(${satPct}%) ${more}`.trim();
  node.style.backdropFilter = bf;
  node.style.webkitBackdropFilter = bf;
}
async function copyText(text, btn){
  try{
    if(navigator.clipboard && window.isSecureContext){
      await navigator.clipboard.writeText(text);
    }else{
      const ta=document.createElement('textarea');
      ta.value=text; document.body.appendChild(ta);
      ta.style.position='fixed'; ta.style.left='-9999px';
      ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
    }
    if(btn){ const t=btn.textContent; btn.textContent='Copied!'; setTimeout(()=>btn.textContent=t,900); }
  }catch(e){ if(btn){ btn.textContent='Copy failed'; setTimeout(()=>btn.textContent='Copy',1200);} console.error(e); }
}

// CSS writer (paste‑ready)
function writeBaseCSS(p, out){
  const cs = getComputedStyle(p);
  if(cs.backgroundColor && cs.backgroundColor !== 'rgba(0, 0, 0, 0)') emit(out, `background-color: ${cs.backgroundColor};`);
  if(cs.webkitBackdropFilter) emit(out, `-webkit-backdrop-filter: ${cs.webkitBackdropFilter};`);
  if(cs.backdropFilter) emit(out, `backdrop-filter: ${cs.backdropFilter};`);
  if(cs.borderTopStyle !== 'none' && cs.borderTopWidth !== '0px'){
    emit(out, `border: ${cs.borderTopWidth} ${cs.borderTopStyle} ${cs.borderTopColor};`);
  }
  emit(out, `border-radius: 10px;`);
  if(cs.boxShadow && cs.boxShadow !== 'none') emit(out, `box-shadow: ${cs.boxShadow};`);
}

function buildSimpleCSS(p){
  const mainCss = [];
  writeBaseCSS(p, mainCss);
  const finalCss = [
    `.your-selector {`,
    ...mainCss.map(line => `  ${line}`),
    `}`
  ];
  return finalCss.join('\n');
}

function buildOverlayCSS(p, pseudo, getPseudoStyles){
  const mainCss = [];
  writeBaseCSS(p, mainCss);
  mainCss.unshift('position: relative;');

  const pseudoCss = getPseudoStyles(p);

  const finalCss = [
    `.your-selector {`,
    ...mainCss.map(line => `  ${line}`),
    `}`,
    ``,
    `.your-selector::${pseudo} {`,
    ...pseudoCss.map(line => `  ${line}`),
    `}`
  ];
  return finalCss.join('\n');
}

// slider helpers
function slider(label, min, max, step, value, unit, apply){ return {label,min,max,step,value,unit,apply}; }
function borderWidthSlider(init=1){ return slider('Border px',0,6,1,init,'px',(p,v)=>{ const a=parseFloat(p._ba??0.12); p.style.border=`${v}px solid rgba(255,255,255,${a})`; p._bw=v; }); }
function borderAlphaSlider(init=0.12){ return slider('Border α',0,.8,.01,init,'',(p,v)=>{ const w=parseInt(p._bw??1,10); p.style.border=`${w}px solid rgba(255,255,255,${v})`; p._ba=v; }); }
function outerShadowSliders(initBlur=28, initA=.22){
  return [
    slider('Shadow blur px',0,60,1,initBlur,'px',(p,v)=>{ p._oblur=v; rebuildShadow(p); }),
    slider('Outer shadow α',0,1,.01,initA,'',(p,v)=>{ p._oalpha=v; rebuildShadow(p); })
  ];
}
function rebuildShadow(p){
  const inset = p._inset ? p._inset + ', ' : '';
  const ob = p._oblur??28, oa = p._oalpha??.22;
  p.style.boxShadow = inset + `0 10px ${ob}px rgba(0,0,0, ${oa})`;
}
// base glass sets
function baseBlurSat(blur=10, sat=120){
  return [
    slider('Blur px',0,30,1,blur,'px',(p,v)=>{ const s=parseInt(p._sat??sat,10); const more=p._more||''; setBlurSat(p,v,s,more); p._blur=v; }),
    slider('Saturate %',60,260,1,sat,'%',(p,v)=>{ const b=parseInt(p._blur??blur,10); const more=p._more||''; p._sat=v; setBlurSat(p,b,v,more); })
  ];
}
function bgAlphaSlider(initA=0.12){
  return slider('BG α',0,.6,.01,initA,'',(p,v)=>{ const col=p._bgcol || '13,14,35'; p.style.backgroundColor=`rgba(${col},${v})`; });
}

const CARDS=[];

/* === 1 Dual Edge Diffusion === */
CARDS.push({
  id:'midnight', title:'Dual Edge Diffusion', key:'balanced radial glow',
  setup(p){
    p._bgcol='20,24,48'; p.style.backgroundColor='rgba(20,24,48,0.12)'; setBlurSat(p,14,150);
    p._hA=.18; p._sA=.45;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=28; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='midFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`radial-gradient(circle at ${p._cx}% ${p._cy}%, rgba(255,255,255,${p._gA}) 0%, rgba(255,255,255,0) ${p._gR}%)`
    }); }
    p._cx=50; p._cy=40; p._gA=.15; p._gR=60; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(14,150),
    slider('Glow α',0,.4,.01,.15,'',(p,v)=>{ p._gA=v; p._paint(); }),
    slider('Glow radius %',30,80,1,60,'%',(p,v)=>{ p._gR=v; p._paint(); }),
    slider('Center X %',0,100,1,50,'%',(p,v)=>{ p._cx=v; p._paint(); }),
    slider('Center Y %',0,100,1,40,'%',(p,v)=>{ p._cy=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.18,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(28,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.midFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 2 Switcher Panel === */
CARDS.push({
  id:'switcherpanel', title:'Switcher Panel', key:'iOS switcher reflex',
  setup(p){
    p._bgcol='187,187,188'; p.style.backgroundColor='rgba(187,187,188,0.08)'; setBlurSat(p,8,150);
    p._light=1; p._dark=1;
    p._paint=function(){
      p.style.boxShadow=[
        `inset 0 0 0 1px rgba(255,255,255,${0.1*p._light})`,
        `inset 1.8px 3px 0px -2px rgba(255,255,255,${0.9*p._light})`,
        `inset -2px -2px 0px -2px rgba(255,255,255,${0.8*p._light})`,
        `inset -3px -8px 1px -6px rgba(255,255,255,${0.6*p._light})`,
        `inset -0.3px -1px 4px 0 rgba(0,0,0,${0.12*p._dark})`,
        `inset -1.5px 2.5px 0px -2px rgba(0,0,0,${0.2*p._dark})`,
        `inset 0px 3px 4px -2px rgba(0,0,0,${0.2*p._dark})`,
        `inset 2px -6.5px 1px -4px rgba(0,0,0,${0.1*p._dark})`,
        `0px 1px 5px rgba(0,0,0,${0.1*p._dark})`,
        `0px 6px 16px rgba(0,0,0,${0.08*p._dark})`
      ].join(', ');
    };
    p._paint();
    p._bw=0; p._ba=0; p.style.border='0 solid rgba(255,255,255,0)';
  },
  sliders:[
    bgAlphaSlider(.08), ...baseBlurSat(8,150),
    slider('Light reflex',0,2,.1,1,'',(p,v)=>{ p._light=v; p._paint(); }),
    slider('Shadow depth',0,2,.1,1,'',(p,v)=>{ p._dark=v; p._paint(); }),
    borderWidthSlider(0), borderAlphaSlider(0)
  ],
  buildCSS: buildSimpleCSS
});

/* === 3 Lens Glow === */
CARDS.push({
  id:'lens', title:'Lens Glow', key:'center highlight',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.1)'; setBlurSat(p,14,140);
    p._hA=.16; p._sA=.4;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=28; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='lensFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute', inset:'0', pointerEvents:'none', borderRadius:'inherit',
      background:`radial-gradient(circle at ${p._cx}% ${p._cy}%, rgba(255,255,255,${p._a}), rgba(255,255,255,0) ${p._r}%)`
    }); }
    p._cx=50; p._cy=45; p._r=55; p._a=.25; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.1), ...baseBlurSat(14,140),
    slider('Glow α',0,.6,.01,.25,'',(p,v)=>{ p._a=v; p._paint(); }),
    slider('Glow size %',20,80,1,55,'%',(p,v)=>{ p._r=v; p._paint(); }),
    slider('Center X %',0,100,1,50,'%',(p,v)=>{ p._cx=v; p._paint(); }),
    slider('Center Y %',0,100,1,45,'%',(p,v)=>{ p._cy=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.16,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(28,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.lensFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 4 Acrylic === */
CARDS.push({
  id:'acrylic', title:'Acrylic', key:'blur · saturate · dotted noise',
  setup(p){
    p._bgcol='20,28,58'; p.style.backgroundColor='rgba(20,28,58,0.10)'; setBlurSat(p,10,150);
    p._inset=''; p._oblur=32; p._oalpha=.24; rebuildShadow(p);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='noise'; Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      backgroundImage:'radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px)',
      backgroundSize:'2px 2px'
    }); p.appendChild(fx);
  },
  sliders:[
    bgAlphaSlider(.10), ...baseBlurSat(10,150),
    slider('Noise α',0,.12,.001,.04,'',(p,v)=>{ p.querySelector('.noise').style.backgroundImage=`radial-gradient(rgba(255,255,255,${v}) 1px, transparent 1px)`; }),
    slider('Noise size px',1,8,1,3,'px',(p,v)=>{ p.querySelector('.noise').style.backgroundSize=`${v}px ${v}px`; }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(32,.24)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.noise'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background-image: ${s.backgroundImage}`,
        `background-size: ${s.backgroundSize}`
      ];
    });
  }
});

/* === 5 Paper Noise === */
CARDS.push({
  id:'paper', title:'Paper Noise', key:'dual grain overlay',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.10)'; setBlurSat(p,13,140);
    p._inset=''; p._oblur=32; p._oalpha=.22; rebuildShadow(p);
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='paperFx'; Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      backgroundImage:'radial-gradient(rgba(255,255,255,.03) 1px, transparent 1px), radial-gradient(rgba(0,0,0,.06) 1px, transparent 1px)',
      backgroundSize:'1px 1px, 2px 2px',opacity:'0.6'
    }); p.appendChild(fx);
  },
  sliders:[
    bgAlphaSlider(.10), ...baseBlurSat(13,140),
    slider('Grain opacity',0,1,.01,.6,'',(p,v)=>{ p.querySelector('.paperFx').style.opacity=String(v); }),
    slider('Grain size px',1,8,1,2,'px',(p,v)=>{ p.querySelector('.paperFx').style.backgroundSize=`${v}px ${v}px, ${v*2}px ${v*2}px`; }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(32,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.paperFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background-image: ${s.backgroundImage}`,
        `background-size: ${s.backgroundSize}`
      ];
    });
  }
});

/* === 6 Glossy === */
CARDS.push({
  id:'gloss', title:'Glossy Highlight', key:'top sheen',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,14,140);
    p._inset=''; p._oblur=32; p._oalpha=.24; rebuildShadow(p);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='glossFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`linear-gradient(${p._sheenAngle}deg, rgba(255,255,255,${p._sheenA}), rgba(255,255,255,0) ${p._sheenStop}%)`
    }); }
    p._sheenAngle=180; p._sheenStop=35; p._sheenA=.28; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(14,140),
    slider('Sheen α',0,.6,.01,.28,'',(p,v)=>{ p._sheenA=v; p._paint(); }),
    slider('Sheen stop %',10,80,1,35,'%',(p,v)=>{ p._sheenStop=v; p._paint(); }),
    slider('Sheen angle °',0,360,1,180,'deg',(p,v)=>{ p._sheenAngle=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(32,.24)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'before', (p) => {
      const s = getComputedStyle(p.querySelector('.glossFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 7 Aqua Ripple === */
CARDS.push({
  id:'ripple', title:'Aqua Ripple', key:'conic wave overlay',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.10)'; setBlurSat(p,12,130);
    p._hA=.16; p._sA=.4;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=28; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='rippleFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-conic-gradient(from ${p._ang}deg at 50% 50%, rgba(255,255,255,.08) 0deg, rgba(255,255,255,.08) ${p._freq}deg, transparent ${p._freq}deg, transparent ${p._freq*2}deg)`
    }); }
    p._ang=45; p._freq=18; p._op=.3; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.10), ...baseBlurSat(12,130),
    slider('Ripple α',0,1,.01,.3,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Frequency °',6,60,1,18,'deg',(p,v)=>{ p._freq=v; p._paint(); }),
    slider('Angle °',0,360,1,45,'deg',(p,v)=>{ p._ang=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.16,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(28,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.rippleFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 8 Carbon Mesh === */
CARDS.push({
  id:'mesh', title:'Carbon Mesh', key:'crosshatch texture',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,12,140);
    p._hA=.18; p._sA=.45;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=32; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.16; p.style.border='1px solid rgba(255,255,255,.16)';
    const fx=el('div'); fx.className='meshFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-linear-gradient(0deg, rgba(255,255,255,${p._op}) 0 1px, transparent 1px ${p._size}px), repeating-linear-gradient(90deg, rgba(255,255,255,${p._op}) 0 1px, transparent 1px ${p._size}px)`
    }); }
    p._op=.18; p._size=7; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,140),
    slider('Mesh α',0,.4,.01,.18,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Cell px',4,20,1,7,'px',(p,v)=>{ p._size=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.18,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.16), ...outerShadowSliders(32,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.meshFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 9 Prismatic Sheen === */
CARDS.push({
  id:'sheen', title:'Prismatic Sheen', key:'multicolor linear overlay',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,12,140);
    p._hA=.18; p._sA=.45;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=24; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='sheenFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`linear-gradient(${p._ang}deg, rgba(255,0,180,${p._op}), rgba(0,255,200,${p._op}), rgba(0,100,255,${p._op}))`
    }); }
    p._ang=125; p._op=.45; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,140),
    slider('Sheen α',0,1,.01,.45,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Angle °',0,360,1,125,'deg',(p,v)=>{ p._ang=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.18,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(24,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.sheenFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 10 Double Glass === */
CARDS.push({
  id:'double', title:'Double Glass', key:'outer rim · inner rim · alphas',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,16,140);
    p._outerPx=12; p._innerPx=3; p._r1=.20; p._r2=.50;
    p._rims = ()=> `inset 0 0 0 ${p._outerPx}px rgba(255,255,255,${p._r1}), inset 0 0 0 ${p._innerPx}px rgba(255,255,255,${p._r2})`;
    p._inset = p._rims();
    p._oblur=28; p._oalpha=.24; rebuildShadow(p);
    p._bw=0; p._ba=.14; p.style.border='0px solid rgba(255,255,255,.14)';
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(16,140),
    slider('Outer rim px',0,30,1,12,'px',(p,v)=>{ p._outerPx=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Outer α',0,.6,.01,.20,'',(p,v)=>{ p._r1=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Inner rim px',0,12,1,3,'px',(p,v)=>{ p._innerPx=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Inner α',0,.9,.01,.50,'',(p,v)=>{ p._r2=v; p._inset = p._rims(); rebuildShadow(p); }),
    ...outerShadowSliders(28,.24), borderWidthSlider(0), borderAlphaSlider(.14)
  ],
  buildCSS: buildSimpleCSS
});

/* === 11 Deep Halo === */
CARDS.push({
  id:'halo', title:'Deep Halo', key:'inner radial ring',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,12,140);
    p._hA=.16; p._sA=.4;
    p._edge=function(){
      p._inset=`inset 1px 1px 1px rgba(255,255,255,${p._hA}), inset -1px -1px 1px rgba(0,0,0,${p._sA})`;
      rebuildShadow(p);
    };
    p._oblur=26; p._oalpha=.22; p._edge();
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='haloFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`radial-gradient(circle at 50% 50%, rgba(255,255,255,0) ${p._inner}%, rgba(255,255,255,${p._ha}) ${p._inner}%, rgba(255,255,255,0) ${p._inner + p._thick}%)`
    }); }
    p._inner=40; p._thick=20; p._ha=.25; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,140),
    slider('Halo α',0,.6,.01,.25,'',(p,v)=>{ p._ha=v; p._paint(); }),
    slider('Inner %',20,60,1,40,'%',(p,v)=>{ p._inner=v; p._paint(); }),
    slider('Thickness %',5,40,1,20,'%',(p,v)=>{ p._thick=v; p._paint(); }),
    slider('Edge highlight α',0,.4,.01,.16,'',(p,v)=>{ p._hA=v; p._edge(); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(26,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.haloFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 12 Switcher Reflex === */
CARDS.push({
  id:'switcher', title:'Switcher Reflex', key:'multi inset shadows',
  setup(p){
    p._bgcol='27,27,29'; p.style.backgroundColor='rgba(27,27,29,0.14)'; setBlurSat(p,8,150);
    p._light=1; p._dark=1; p._oblur=16; p._oalpha=.08;
    function paint(){
      const L=p._light, D=p._dark, ob=p._oblur, oa=p._oalpha;
      p.style.boxShadow=
        `inset 0 0 0 1px rgba(255,255,255,${0.1*L}),`+
        `inset 1.8px 3px 0 -2px rgba(255,255,255,${0.9*L}),`+
        `inset -2px -2px 0 -2px rgba(255,255,255,${0.8*L}),`+
        `inset -3px -8px 1px -6px rgba(255,255,255,${0.6*L}),`+
        `inset -0.3px -1px 4px 0 rgba(0,0,0,${0.12*D}),`+
        `inset -1.5px 2.5px 0 -2px rgba(0,0,0,${0.2*D}),`+
        `inset 0 3px 4px -2px rgba(0,0,0,${0.2*D}),`+
        `inset 2px -6.5px 1px -4px rgba(0,0,0,${0.1*D}),`+
        `0 1px 5px 0 rgba(0,0,0,${0.1*D}),`+
        `0 6px ${ob}px rgba(0,0,0,${oa})`;
    }
    p._paint=paint; paint();
    p._bw=0; p._ba=0; p.style.border='0px solid transparent';
  },
  sliders:[
    bgAlphaSlider(.14),
    slider('Blur px',0,20,1,8,'px',(p,v)=>{ p._blur=v; setBlurSat(p,v,p._sat??150); }),
    slider('Saturate %',80,220,1,150,'%',(p,v)=>{ p._sat=v; setBlurSat(p,p._blur??8,v); }),
    slider('Light reflex',0,2,.01,1,'',(p,v)=>{ p._light=v; p._paint(); }),
    slider('Dark reflex',0,2,.01,1,'',(p,v)=>{ p._dark=v; p._paint(); }),
    slider('Outer blur px',0,40,1,16,'px',(p,v)=>{ p._oblur=v; p._paint(); }),
    slider('Outer α',0,.5,.01,.08,'',(p,v)=>{ p._oalpha=v; p._paint(); })
  ],
  buildCSS: buildSimpleCSS
});

/* === 13 Ringed Glass === */
CARDS.push({
  id:'rings', title:'Ringed Glass', key:'repeating radial · opacity',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,13,135);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='ringsFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-radial-gradient(circle at ${p._cx}% ${p._cy}%, rgba(255,255,255,0.14), rgba(255,255,255,0.14) ${p._dot}px, transparent ${p._dot}px, transparent ${p._gap}px)`
    }); }
    p._cx=50;p._cy=50;p._dot=3;p._gap=14;p._op=.45; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(13,135),
    slider('Rings α',0,1,.01,.45,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Center X %',0,100,1,50,'%',(p,v)=>{ p._cx=v; p._paint(); }),
    slider('Center Y %',0,100,1,50,'%',(p,v)=>{ p._cy=v; p._paint(); }),
    slider('Dot px',1,8,1,3,'px',(p,v)=>{ p._dot=v; p._paint(); }),
    slider('Gap px',6,30,1,14,'px',(p,v)=>{ p._gap=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(28,.24)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.ringsFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 14 Micro‑scratches === */
CARDS.push({
  id:'scratch', title:'Micro‑scratches', key:'repeating linear · opacity',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,13,135);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='scratchFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-linear-gradient(${p._ang}deg, rgba(255,255,255,.5), rgba(255,255,255,.5) ${p._line}px, transparent ${p._line}px, transparent ${p._gap}px)`
    }); }
    p._ang=18;p._line=1;p._gap=10;p._op=.45; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(13,135),
    slider('Scratch α',0,1,.01,.45,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Angle °',0,180,1,18,'deg',(p,v)=>{ p._ang=v; p._paint(); }),
    slider('Line px',1,4,1,1,'px',(p,v)=>{ p._line=v; p._paint(); }),
    slider('Gap px',4,20,1,10,'px',(p,v)=>{ p._gap=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(28,.24)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.scratchFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 15 Cursor Glass === */
CARDS.push({
  id:'cursor', title:'Cursor Glass', key:'offset radial highlight',
  setup(p){
    p._bgcol='20,24,48'; p.style.backgroundColor='rgba(20,24,48,0.10)'; setBlurSat(p,14,160);
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='cursorFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`radial-gradient(circle at ${p._cx}% ${p._cy}%, rgba(255,255,255,${p._hi}), rgba(255,255,255,0) ${p._rad}%), radial-gradient(circle at ${100-p._cx}% ${100-p._cy}%, rgba(0,0,0,${p._sh}), rgba(0,0,0,0) ${p._rad}%)`
    }); }
    p._cx=30; p._cy=30; p._rad=55; p._hi=.25; p._sh=.2; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.10), ...baseBlurSat(14,160),
    slider('Highlight α',0,.6,.01,.25,'',(p,v)=>{ p._hi=v; p._paint(); }),
    slider('Shadow α',0,.6,.01,.2,'',(p,v)=>{ p._sh=v; p._paint(); }),
    slider('Radius %',30,80,1,55,'%',(p,v)=>{ p._rad=v; p._paint(); }),
    slider('Center X %',0,100,1,30,'%',(p,v)=>{ p._cx=v; p._paint(); }),
    slider('Center Y %',0,100,1,30,'%',(p,v)=>{ p._cy=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(30,.24)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.cursorFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* ---------- Render ---------- */
function makeCard(def){
  const card = el('section','card glass-'+def.id);
  const bar = el('div','bar'); bar.textContent = def.title;
  const sub = el('div','sub'); sub.innerHTML = '<b>Key:</b> '+def.key;
  const prev = el('div','preview');
  const controls = el('div','controls');
  const code = el('pre','code'); code.textContent = '';
  const btnWrap = el('div','btns');
  const copyBtn = el('button','btn'); copyBtn.textContent='Copy CSS';
  const refreshBtn = el('button','btn'); refreshBtn.textContent='Refresh CSS';
  card.append(bar, sub, prev, controls, code, btnWrap);
  btnWrap.append(copyBtn, refreshBtn);
  try{
    def.setup(prev);
    def.sliders.forEach(s => {
      const row = el('div','ctl');
      const lab = el('label'); lab.textContent = s.label;
      const rng = el('input'); rng.type='range'; rng.min=s.min; rng.max=s.max; rng.step=s.step; rng.value=s.value;
      const read = el('div'); read.style.fontSize='12px'; read.style.color='var(--muted)';
      read.textContent = s.unit ? `${s.value}${s.unit}` : `${s.value}`;
      rng.addEventListener('input', () => {
        const v = (s.step%1===0)? parseInt(rng.value,10): parseFloat(rng.value);
        s.apply(prev, v);
        read.textContent = s.unit ? `${v}${s.unit}` : `${v}`;
        try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; }
      });
      // initial apply
      s.apply(prev, s.value);
      row.append(lab, rng); row.appendChild(read);
      controls.appendChild(row);
    });
    try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; }
    copyBtn.addEventListener('click', ()=> copyText(code.textContent, copyBtn));
    refreshBtn.addEventListener('click', ()=> { try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; } });
  }catch(e){
    const err = el('div','err'); err.textContent = 'Error: '+e.message;
    controls.innerHTML=''; controls.appendChild(err);
  }
  return card;
}

const grid = $('#grid');
for(const def of CARDS){ grid.appendChild(makeCard(def)); }
</script>
</body>
</html>