<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Glass Lab — 15 Styles · transparent panels · paste‑ready CSS</title>
<style>
  :root{--ink:#e9ebff;--muted:#a6add4}
  html,body{height:100%}
  body{
    margin:0;color:var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    background: radial-gradient(ellipse at 50% 50%, #1B2735 0%, #090A0F 100%);
    position:relative;
  }
  /* starfield */
  .stars,.stars:after,.stars2,.stars2:after,.stars3,.stars3:after{position:fixed;left:0;top:0;width:1px;height:1px;background:transparent;pointer-events:none}
  .stars{box-shadow: var(--shadows-small); animation: animStar 50s linear infinite;}
  .stars:after{content:""; top:2000px; box-shadow: var(--shadows-small);}
  .stars2{width:2px;height:2px; box-shadow: var(--shadows-medium); animation: animStar 100s linear infinite;}
  .stars2:after{content:""; top:2000px; box-shadow: var(--shadows-medium);}
  .stars3{width:3px;height:3px; box-shadow: var(--shadows-big); animation: animStar 150s linear infinite;}
  .stars3:after{content:""; top:2000px; box-shadow: var(--shadows-big);}
  @keyframes animStar{from{transform:translateY(0)}to{transform:translateY(-2000px)}}

  header{
    position: sticky; top:0; z-index:5;
    background: linear-gradient(180deg, rgba(10,11,22,.86), rgba(10,11,22,.55) 60%, rgba(10,11,22,0));
    -webkit-backdrop-filter: blur(10px) saturate(120%);
    backdrop-filter: blur(10px) saturate(120%);
    border-bottom: 1px solid rgba(255,255,255,.08);
  }
  .wrap{max-width:1280px;margin:0 auto;padding:14px 18px}
  h1{font-size:18px;letter-spacing:.3px;margin:0}
  .grid{max-width:1280px;margin:24px auto 64px;padding:0 16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:18px}

  /* ── PANEL / CONTAINER — transparent, no blur here ── */
  .card{
        position:relative;border-radius:10px;overflow:hidden;
        background: rgba(13,14,35,0.01);                 /* nearly see-through */
        border: 1px solid rgba(255,255,255,.06);
        /* no backdrop-filter here — it interferes with previews' blur slider */
        box-shadow: 0 6px 18px rgba(0,0,0,.12);
  }
  .card .bar{display:flex;align-items:center;gap:8px;padding:10px 12px;
             background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,0));
             font-weight:700;font-size:14px}
  .card .sub{padding:0 12px 6px;color:var(--muted);font-size:12px}

  /* Preview area (the actual “glass” demo) */
  .preview{min-height:240px;border-top:1px dashed rgba(255,255,255,.12);border-bottom:1px dashed rgba(255,255,255,.12);
           margin:8px 12px;border-radius:10px;position:relative;overflow:hidden}

  /* Slider panel */
  .controls{background:transparent}
  .ctl{display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center;padding:6px 12px}
  .ctl label{font-size:12px;color:var(--muted)}
  .ctl input[type=range]{width:100%}

  pre.code{margin:8px 12px 12px;padding:10px;background:rgba(0,0,0,.16);
           border-radius:10px;border:1px solid rgba(255,255,255,.08);font-size:11px;color:#f4f5ff;overflow:auto;max-height:250px;white-space:pre-wrap}
  .btns{display:flex;gap:8px;margin:0 12px 14px}
  button.btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#fff;cursor:pointer}

  .err{padding:10px 12px;color:#ffb4b4}
</style>
</head>
<body>
<div class="stars"></div><div class="stars2"></div><div class="stars3"></div>
<header><div class="wrap"><h1>Glass Lab — 15 Styles · transparent panels · paste‑ready CSS</h1></div></header>
<main class="grid" id="grid"></main>

<script>
// starfield scatters
function randomShadows(n){const a=[];for(let i=0;i<n;i++){a.push(Math.floor(Math.random()*2000)+'px '+Math.floor(Math.random()*2000)+'px #FFF')}return a.join(', ')}
document.documentElement.style.setProperty('--shadows-small', randomShadows(700));
document.documentElement.style.setProperty('--shadows-medium', randomShadows(200));
document.documentElement.style.setProperty('--shadows-big', randomShadows(100));

// helpers
const $ = (s,root=document)=>root.querySelector(s);
const el = (t,c)=>{const e=document.createElement(t); if(c) e.className=c; return e;};
function emit(out,line){ out.push(line); }
function block(lines){ return lines.join('\n'); }
function setBlurSat(node, blurPx, satPct, more=''){
  const bf = `blur(${blurPx}px) saturate(${satPct}%) ${more}`.trim();
  node.style.backdropFilter = bf;
  node.style.webkitBackdropFilter = bf;
}
async function copyText(text, btn){
  try{
    if(navigator.clipboard && window.isSecureContext){
      await navigator.clipboard.writeText(text);
    }else{
      const ta=document.createElement('textarea');
      ta.value=text; document.body.appendChild(ta);
      ta.style.position='fixed'; ta.style.left='-9999px';
      ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
    }
    if(btn){ const t=btn.textContent; btn.textContent='Copied!'; setTimeout(()=>btn.textContent=t,900); }
  }catch(e){ if(btn){ btn.textContent='Copy failed'; setTimeout(()=>btn.textContent='Copy',1200);} console.error(e); }
}

// CSS writer (paste‑ready)
function writeBaseCSS(p, out){
  const cs = getComputedStyle(p);
  if(cs.backgroundColor && cs.backgroundColor !== 'rgba(0, 0, 0, 0)') emit(out, `background-color: ${cs.backgroundColor};`);
  if(cs.webkitBackdropFilter) emit(out, `-webkit-backdrop-filter: ${cs.webkitBackdropFilter};`);
  if(cs.backdropFilter) emit(out, `backdrop-filter: ${cs.backdropFilter};`);
  if(cs.borderTopStyle !== 'none' && cs.borderTopWidth !== '0px'){
    emit(out, `border: ${cs.borderTopWidth} ${cs.borderTopStyle} ${cs.borderTopColor};`);
  }
  emit(out, `border-radius: 10px;`);
  if(cs.boxShadow && cs.boxShadow !== 'none') emit(out, `box-shadow: ${cs.boxShadow};`);
}

function buildSimpleCSS(p){
  const mainCss = [];
  writeBaseCSS(p, mainCss);
  const finalCss = [
    `.your-selector {`,
    ...mainCss.map(line => `  ${line}`),
    `}`
  ];
  return finalCss.join('\n');
}

function buildOverlayCSS(p, pseudo, getPseudoStyles){
  const mainCss = [];
  writeBaseCSS(p, mainCss);
  mainCss.unshift('position: relative;');

  const pseudoCss = getPseudoStyles(p);

  const finalCss = [
    `.your-selector {`,
    ...mainCss.map(line => `  ${line}`),
    `}`,
    ``,
    `.your-selector::${pseudo} {`,
    ...pseudoCss.map(line => `  ${line}`),
    `}`
  ];
  return finalCss.join('\n');
}

// slider helpers
function slider(label, min, max, step, value, unit, apply){ return {label,min,max,step,value,unit,apply}; }
function borderWidthSlider(init=1){ return slider('Border px',0,6,1,init,'px',(p,v)=>{ const a=parseFloat(p._ba??0.12); p.style.border=`${v}px solid rgba(255,255,255,${a})`; p._bw=v; }); }
function borderAlphaSlider(init=0.12){ return slider('Border α',0,.8,.01,init,'',(p,v)=>{ const w=parseInt(p._bw??1,10); p.style.border=`${w}px solid rgba(255,255,255,${v})`; p._ba=v; }); }
function outerShadowSliders(initBlur=28, initA=.22){
  return [
    slider('Shadow blur px',0,60,1,initBlur,'px',(p,v)=>{ p._oblur=v; rebuildShadow(p); }),
    slider('Outer shadow α',0,1,.01,initA,'',(p,v)=>{ p._oalpha=v; rebuildShadow(p); })
  ];
}
function rebuildShadow(p){
  const inset = p._inset ? p._inset + ', ' : '';
  const ob = p._oblur??28, oa = p._oalpha??.22;
  p.style.boxShadow = inset + `0 10px ${ob}px rgba(0,0,0, ${oa})`;
}
// base glass sets
function baseBlurSat(blur=10, sat=120){
  return [
    slider('Blur px',0,30,1,blur,'px',(p,v)=>{ const s=parseInt(p._sat??sat,10); const more=p._more||''; setBlurSat(p,v,s,more); p._blur=v; }),
    slider('Saturate %',60,260,1,sat,'%',(p,v)=>{ const b=parseInt(p._blur??blur,10); const more=p._more||''; p._sat=v; setBlurSat(p,b,v,more); })
  ];
}
function bgAlphaSlider(initA=0.12){
  return slider('BG α',0,.6,.01,initA,'',(p,v)=>{ const col=p._bgcol || '13,14,35'; p.style.backgroundColor=`rgba(${col},${v})`; });
}

const CARDS=[];

/* === 1 Thick Glass === */
CARDS.push({
  id:'thick-glass', title:'Thick Glass', key:'a thick, beveled edge with multi-directional lighting',
  setup(p){
    p._bgcol='20,20,30'; p.style.backgroundColor='rgba(20,20,30,0.15)'; setBlurSat(p,18,140);
    p._inset = `
      inset 0 1px 0 rgba(255,255,255,0.2),
      inset 0 -1px 0 rgba(0,0,0,0.2),
      inset 1px 0 0 rgba(255,255,255,0.2),
      inset -1px 0 0 rgba(0,0,0,0.2),
      inset 0 0 10px rgba(0,0,0,0.3)
    `;
    p._oblur=30; p._oalpha=.2; rebuildShadow(p);
    p._bw=0; p._ba=0; p.style.border='0px solid transparent';
  },
  sliders:[
    bgAlphaSlider(.15), ...baseBlurSat(18,140),
    ...outerShadowSliders(30,.2)
  ],
  buildCSS: buildSimpleCSS
});

/* === 2 Reflective Edge === */
CARDS.push({
  id:'reflective-edge', title:'Reflective Edge', key:'a bright, reflective edge with a soft inner glow',
  setup(p){
    p._bgcol='220,220,230'; p.style.backgroundColor='rgba(220,220,230,0.1)'; setBlurSat(p,16,120);
    p._inset = `
      inset 0 1px 1px rgba(255,255,255,0.4),
      inset 0 -1px 1px rgba(255,255,255,0.2)
    `;
    p._oblur=20; p._oalpha=.1; rebuildShadow(p);
    p._bw=1; p._ba=.3; p.style.border='1px solid rgba(255,255,255,.3)';
  },
  sliders:[
    bgAlphaSlider(.1), ...baseBlurSat(16,120),
    borderWidthSlider(1), borderAlphaSlider(.3),
    ...outerShadowSliders(20,.1)
  ],
  buildCSS: buildSimpleCSS
});

/* === 3 Refractive Edge === */
CARDS.push({
  id:'refractive-edge', title:'Refractive Edge', key:'a dark, refractive edge with a subtle inner shadow',
  setup(p){
    p._bgcol='10,10,15'; p.style.backgroundColor='rgba(10,10,15,0.25)'; setBlurSat(p,20,160);
    p._inset = `
      inset 0 1px 2px rgba(0,0,0,0.3),
      inset 0 -1px 2px rgba(0,0,0,0.3)
    `;
    p._oblur=40; p._oalpha=.3; rebuildShadow(p);
    p._bw=1; p._ba=.05; p.style.border='1px solid rgba(255,255,255,.05)';
  },
  sliders:[
    bgAlphaSlider(.25), ...baseBlurSat(20,160),
    borderWidthSlider(1), borderAlphaSlider(.05),
    ...outerShadowSliders(40,.3)
  ],
  buildCSS: buildSimpleCSS
});

/* === 4 Multi-directional Sheen === */
CARDS.push({
  id:'multi-sheen', title:'Multi-directional Sheen', key:'a complex sheen with multiple light sources',
  setup(p){
    p._bgcol='20,25,40'; p.style.backgroundColor='rgba(20,25,40,0.2)'; setBlurSat(p,14,130);
    p._inset=''; p._oblur=30; p._oalpha=.2; rebuildShadow(p);
    p._bw=1; p._ba=.1; p.style.border='1px solid rgba(255,255,255,.1)';
    const fx=el('div'); fx.className='sheenFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`
        linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 50%),
        linear-gradient(-45deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 50%)
      `
    }); }
    p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.2), ...baseBlurSat(14,130),
    borderWidthSlider(1), borderAlphaSlider(.1),
    ...outerShadowSliders(30,.2)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'before', (p) => {
      const s = getComputedStyle(p.querySelector('.sheenFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 5 Inner Glow === */
CARDS.push({
  id:'inner-glow', title:'Inner Glow', key:'a soft, blurred inner glow',
  setup(p){
    p._bgcol='30,20,40'; p.style.backgroundColor='rgba(30,20,40,0.15)'; setBlurSat(p,16,130);
    p._inset = `inset 0 0 20px rgba(255,255,255,0.1)`;
    p._oblur=25; p._oalpha=.15; rebuildShadow(p);
    p._bw=1; p._ba=.15; p.style.border='1px solid rgba(255,255,255,.15)';
  },
  sliders:[
    bgAlphaSlider(.15), ...baseBlurSat(16,130),
    slider('Glow Radius', 0, 50, 1, 20, 'px', (p,v)=>{ p._inset = `inset 0 0 ${v}px rgba(255,255,255,${p._glowA||0.1})`; rebuildShadow(p); }),
    slider('Glow Alpha', 0, 0.5, 0.01, 0.1, '', (p,v)=>{ p._glowA=v; p._inset = `inset 0 0 20px rgba(255,255,255,${v})`; rebuildShadow(p); }),
    borderWidthSlider(1), borderAlphaSlider(.15),
    ...outerShadowSliders(25,.15)
  ],
  buildCSS: buildSimpleCSS
});

/* === 6 Sharp Bevel === */
CARDS.push({
  id:'sharp-bevel', title:'Sharp Bevel', key:'a sharp, chiseled bevel with no blur',
  setup(p){
    p._bgcol='25,25,35'; p.style.backgroundColor='rgba(25,25,35,0.2)'; setBlurSat(p,12,120);
    p._offset=1;
    p._inset = `
      inset 1px 1px 0 rgba(255,255,255,0.25),
      inset -1px -1px 0 rgba(0,0,0,0.25)
    `;
    p._oblur=35; p._oalpha=.25; rebuildShadow(p);
    p._bw=0; p._ba=0; p.style.border='0px solid transparent';
  },
  sliders:[
    bgAlphaSlider(.2), ...baseBlurSat(12,120),
    slider('Bevel Offset', 0, 5, 0.5, 1, 'px', (p,v)=>{ p._inset = `inset ${v}px ${v}px 0 rgba(255,255,255,${p._lightA||0.25}), inset -${v}px -${v}px 0 rgba(0,0,0,${p._darkA||0.25})`; rebuildShadow(p); }),
    slider('Light Alpha', 0, 1, 0.01, 0.25, '', (p,v)=>{ const o=p._offset||1; p._lightA=v; p._inset = `inset ${o}px ${o}px 0 rgba(255,255,255,${v}), inset -${o}px -${o}px 0 rgba(0,0,0,${p._darkA||0.25})`; rebuildShadow(p); }),
    slider('Dark Alpha', 0, 1, 0.01, 0.25, '', (p,v)=>{ const o=p._offset||1; p._darkA=v; p._inset = `inset ${o}px ${o}px 0 rgba(255,255,255,${p._lightA||0.25}), inset -${o}px -${o}px 0 rgba(0,0,0,${v})`; rebuildShadow(p); }),
    ...outerShadowSliders(35,.25)
  ],
  buildCSS: buildSimpleCSS
});

/* === 7 Combined Effects === */
CARDS.push({
  id:'combined-effects', title:'Combined Effects', key:'a complex style with multiple effects',
  setup(p){
    p._bgcol='20,30,50'; p.style.backgroundColor='rgba(20,30,50,0.1)'; setBlurSat(p,15,150);
    p._inset = `
      inset 0 1px 1px rgba(255,255,255,0.25),
      inset 0 0 15px rgba(0,0,0,0.2)
    `;
    p._oblur=40; p._oalpha=.2; rebuildShadow(p);
    p._bw=1; p._ba=.1; p.style.border='1px solid rgba(255,255,255,.1)';
  },
  sliders:[
    bgAlphaSlider(.1), ...baseBlurSat(15,150),
    borderWidthSlider(1), borderAlphaSlider(.1),
    ...outerShadowSliders(40,.2)
  ],
  buildCSS: buildSimpleCSS
});

/* === 8 Bright === */
CARDS.push({
  id:'bright', title:'Bright Glass', key:'blur + brightness↑',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)';
    p._more='brightness(1.15)';
    setBlurSat(p,12,125, p._more);
    p._inset=''; p._oblur=28; p._oalpha=.22; rebuildShadow(p);
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,125),
    slider('Brightness %',90,160,1,115,'%',(p,v)=>{ p._more=`brightness(${v/100})`; setBlurSat(p, p._blur??12, p._sat??125, p._more); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(28,.22)
  ],
  buildCSS: buildSimpleCSS
});

/* === 9 Acrylic === */
CARDS.push({
  id:'acrylic', title:'Acrylic', key:'blur · saturate · dotted noise',
  setup(p){
    p._bgcol='20,28,58'; p.style.backgroundColor='rgba(20,28,58,0.06)'; setBlurSat(p,8,130);
    p._inset=''; p._oblur=30; p._oalpha=.22; rebuildShadow(p);
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='noise'; Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      backgroundImage:'radial-gradient(rgba(255,255,255,0.02) 1px, transparent 1px)',
      backgroundSize:'2px 2px'
    }); p.appendChild(fx);
  },
  sliders:[
    bgAlphaSlider(.06), ...baseBlurSat(8,130),
    slider('Noise α',0,.12,.001,.02,'',(p,v)=>{ p.querySelector('.noise').style.backgroundImage=`radial-gradient(rgba(255,255,255,${v}) 1px, transparent 1px)`; }),
    slider('Noise size px',1,8,1,2,'px',(p,v)=>{ p.querySelector('.noise').style.backgroundSize=`${v}px ${v}px`; }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(30,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.noise'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background-image: ${s.backgroundImage}`,
        `background-size: ${s.backgroundSize}`
      ];
    });
  }
});

/* === 10 Paper Noise === */
CARDS.push({
  id:'paper', title:'Paper Noise', key:'dual grain overlay',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.10)'; setBlurSat(p,10,120);
    p._inset=''; p._oblur=30; p._oalpha=.20; rebuildShadow(p);
    p._bw=1; p._ba=.10; p.style.border='1px solid rgba(255,255,255,.10)';
    const fx=el('div'); fx.className='paperFx'; Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      backgroundImage:'radial-gradient(rgba(255,255,255,.03) 1px, transparent 1px), radial-gradient(rgba(0,0,0,.06) 1px, transparent 1px)',
      backgroundSize:'1px 1px, 2px 2px',opacity:'0.5'
    }); p.appendChild(fx);
  },
  sliders:[
    bgAlphaSlider(.10), ...baseBlurSat(10,120),
    slider('Grain opacity',0,1,.01,.5,'',(p,v)=>{ p.querySelector('.paperFx').style.opacity=String(v); }),
    slider('Grain size px',1,8,1,1,'px',(p,v)=>{ p.querySelector('.paperFx').style.backgroundSize=`${v}px ${v}px, ${v*2}px ${v*2}px`; }),
    borderWidthSlider(1), borderAlphaSlider(.10), ...outerShadowSliders(30,.20)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.paperFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background-image: ${s.backgroundImage}`,
        `background-size: ${s.backgroundSize}`
      ];
    });
  }
});

/* === 11 Glossy === */
CARDS.push({
  id:'gloss', title:'Glossy Highlight', key:'top sheen',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,12,120);
    p._inset=''; p._oblur=30; p._oalpha=.22; rebuildShadow(p);
    p._bw=1; p._ba=.12; p.style.border='1px solid rgba(255,255,255,.12)';
    const fx=el('div'); fx.className='glossFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',
      background:`linear-gradient(${p._sheenAngle}deg, rgba(255,255,255,${p._sheenA}), rgba(255,255,255,0) ${p._sheenStop}%)`
    }); }
    p._sheenAngle=180; p._sheenStop=35; p._sheenA=.15; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,120),
    slider('Sheen α',0,.6,.01,.15,'',(p,v)=>{ p._sheenA=v; p._paint(); }),
    slider('Sheen stop %',10,80,1,35,'%',(p,v)=>{ p._sheenStop=v; p._paint(); }),
    slider('Sheen angle °',0,360,1,180,'deg',(p,v)=>{ p._sheenAngle=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.12), ...outerShadowSliders(30,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'before', (p) => {
      const s = getComputedStyle(p.querySelector('.glossFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `background: ${s.backgroundImage || s.background}`
      ];
    });
  }
});

/* === 12 Double Glass === */
CARDS.push({
  id:'double', title:'Double Glass', key:'outer rim · inner rim · alphas',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,12,120);
    p._outerPx=8; p._innerPx=2; p._r1=.20; p._r2=.45;
    p._rims = ()=> `inset 0 0 0 ${p._outerPx}px rgba(255,255,255,${p._r1}), inset 0 0 0 ${p._innerPx}px rgba(255,255,255,${p._r2})`;
    p._inset = p._rims();
    p._oblur=26; p._oalpha=.22; rebuildShadow(p);
    p._bw=0; p._ba=.12; p.style.border='0px solid rgba(255,255,255,.12)';
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(12,120),
    slider('Outer rim px',0,30,1,8,'px',(p,v)=>{ p._outerPx=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Outer α',0,.6,.01,.20,'',(p,v)=>{ p._r1=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Inner rim px',0,12,1,2,'px',(p,v)=>{ p._innerPx=v; p._inset = p._rims(); rebuildShadow(p); }),
    slider('Inner α',0,.9,.01,.45,'',(p,v)=>{ p._r2=v; p._inset = p._rims(); rebuildShadow(p); }),
    ...outerShadowSliders(26,.22), borderWidthSlider(0), borderAlphaSlider(.12)
  ],
  buildCSS: buildSimpleCSS
});

/* === 13 Ringed Glass === */
CARDS.push({
  id:'rings', title:'Ringed Glass', key:'repeating radial · opacity',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,10,120);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='ringsFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-radial-gradient(circle at ${p._cx}% ${p._cy}%, rgba(255,255,255,0.14), rgba(255,255,255,0.14) ${p._dot}px, transparent ${p._dot}px, transparent ${p._gap}px)`
    }); }
    p._cx=50;p._cy=50;p._dot=2;p._gap=10;p._op=.2; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(10,120),
    slider('Rings α',0,1,.01,.2,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Center X %',0,100,1,50,'%',(p,v)=>{ p._cx=v; p._paint(); }),
    slider('Center Y %',0,100,1,50,'%',(p,v)=>{ p._cy=v; p._paint(); }),
    slider('Dot px',1,8,1,2,'px',(p,v)=>{ p._dot=v; p._paint(); }),
    slider('Gap px',6,30,1,10,'px',(p,v)=>{ p._gap=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(26,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.ringsFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 14 Micro‑scratches === */
CARDS.push({
  id:'scratch', title:'Micro‑scratches', key:'repeating linear · opacity',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.14)'; setBlurSat(p,10,120);
    p._bw=1; p._ba=.14; p.style.border='1px solid rgba(255,255,255,.14)';
    const fx=el('div'); fx.className='scratchFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`repeating-linear-gradient(${p._ang}deg, rgba(255,255,255,.5), rgba(255,255,255,.5) ${p._line}px, transparent ${p._line}px, transparent ${p._gap}px)`
    }); }
    p._ang=20;p._line=1;p._gap=6;p._op=.2; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.14), ...baseBlurSat(10,120),
    slider('Scratch α',0,1,.01,.2,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Angle °',0,180,1,20,'deg',(p,v)=>{ p._ang=v; p._paint(); }),
    slider('Line px',1,4,1,1,'px',(p,v)=>{ p._line=v; p._paint(); }),
    slider('Gap px',4,20,1,6,'px',(p,v)=>{ p._gap=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.14), ...outerShadowSliders(26,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.scratchFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* === 15 Iridescent Film === */
CARDS.push({
  id:'film', title:'Iridescent Film', key:'linear overlay',
  setup(p){
    p._bgcol='13,14,35'; p.style.backgroundColor='rgba(13,14,35,0.12)'; setBlurSat(p,12,120);
    p._bw=1; p._ba=.10; p.style.border='1px solid rgba(255,255,255,.10)';
    const fx=el('div'); fx.className='filmFx'; p.appendChild(fx);
    function paint(){ Object.assign(fx.style,{
      position:'absolute',inset:'0',pointerEvents:'none',borderRadius:'inherit',opacity:String(p._op),
      background:`linear-gradient(${p._ang}deg, rgba(255,0,153,.25), rgba(0,255,204,.25), rgba(0,128,255,.25))`
    }); }
    p._ang=130;p._op=.4; p._paint=paint; paint();
  },
  sliders:[
    bgAlphaSlider(.12), ...baseBlurSat(12,120),
    slider('Overlay α',0,1,.01,.4,'',(p,v)=>{ p._op=v; p._paint(); }),
    slider('Angle °',0,360,1,130,'deg',(p,v)=>{ p._ang=v; p._paint(); }),
    borderWidthSlider(1), borderAlphaSlider(.10), ...outerShadowSliders(28,.22)
  ],
  buildCSS(p){
    return buildOverlayCSS(p, 'after', (p) => {
      const s = getComputedStyle(p.querySelector('.filmFx'));
      return [
        'content: ""',
        'position: absolute',
        'inset: 0',
        'pointer-events: none',
        'border-radius: inherit',
        `opacity: ${s.opacity}`,
        `background: ${s.backgroundImage}`
      ];
    });
  }
});

/* ---------- Render ---------- */
function makeCard(def){
  const card = el('section','card glass-'+def.id);
  const bar = el('div','bar'); bar.textContent = def.title;
  const sub = el('div','sub'); sub.innerHTML = '<b>Key:</b> '+def.key;
  const prev = el('div','preview');
  const controls = el('div','controls');
  const code = el('pre','code'); code.textContent = '';
  const btnWrap = el('div','btns');
  const copyBtn = el('button','btn'); copyBtn.textContent='Copy CSS';
  const refreshBtn = el('button','btn'); refreshBtn.textContent='Refresh CSS';
  card.append(bar, sub, prev, controls, code, btnWrap);
  btnWrap.append(copyBtn, refreshBtn);
  try{
    def.setup(prev);
    def.sliders.forEach(s => {
      const row = el('div','ctl');
      const lab = el('label'); lab.textContent = s.label;
      const rng = el('input'); rng.type='range'; rng.min=s.min; rng.max=s.max; rng.step=s.step; rng.value=s.value;
      const read = el('div'); read.style.fontSize='12px'; read.style.color='var(--muted)';
      read.textContent = s.unit ? `${s.value}${s.unit}` : `${s.value}`;
      rng.addEventListener('input', () => {
        const v = (s.step%1===0)? parseInt(rng.value,10): parseFloat(rng.value);
        s.apply(prev, v);
        read.textContent = s.unit ? `${v}${s.unit}` : `${v}`;
        try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; }
      });
      // initial apply
      s.apply(prev, s.value);
      row.append(lab, rng); row.appendChild(read);
      controls.appendChild(row);
    });
    try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; }
    copyBtn.addEventListener('click', ()=> copyText(code.textContent, copyBtn));
    refreshBtn.addEventListener('click', ()=> { try{ code.textContent = def.buildCSS(prev); }catch(e){ code.textContent = '/* build error: '+e.message+' */'; } });
  }catch(e){
    const err = el('div','err'); err.textContent = 'Error: '+e.message;
    controls.innerHTML=''; controls.appendChild(err);
  }
  return card;
}

const grid = $('#grid');
for(const def of CARDS){ grid.appendChild(makeCard(def)); }
</script>
</body>
</html>
